<?xml version="1.0" encoding="UTF-8"?>
<component name="NavBar" extends="Group" initialFocus="menuGroup" focusable="true">

    <interface>
        <!-- Selected tab ID passed up to MainScene -->
        <field id="selectedId" type="string" />

        <!-- Optional offsets for underline calibration -->
        <field id="underlineOffsetX" type="integer" default="0" />
        <field id="underlineOffsetY" type="integer" default="0" />
    </interface>

    <script type="text/brightscript" uri="pkg:/components/NavBar.brs" />

    <children>

        <!-- ===========================================================
             BACKGROUND BAR
        ============================================================ -->
        <Rectangle
            id="barBg"
            width="1280"
            height="60"
            color="0x111111FF" />


        <!-- ===========================================================
             HORIZONTAL TAB LAYOUT
             (FEATURED + HOME + LIVE + SPORTS + SETTINGS)
        ============================================================ -->
        <LayoutGroup
            id="menuGroup"
            layoutDirection="horiz"
            horizAlignment="left"
            itemSpacings="[40]"
            translation="[80, 15]"
            focusable="true">

            <!-- Fully selectable tabs -->
            <Label id="tabFeatured" text="FEATURED"
                   font="font:MediumSystemFont" color="0xAAAAAAFF" />

            <Label id="tabHome"     text="HOME"
                   font="font:MediumSystemFont" color="0xAAAAAAFF" />

            <Label id="tabLive"     text="LIVE"
                   font="font:MediumSystemFont" color="0xAAAAAAFF" />

            <Label id="tabSports"   text="SPORTS"
                   font="font:MediumSystemFont" color="0xAAAAAAFF" />

            <Label id="tabSettings" text="SETTINGS"
                   font="font:MediumSystemFont" color="0xAAAAAAFF" />

        </LayoutGroup>


        <!-- ===========================================================
             ESPN-STYLE UNDERLINE CURSOR
             Drawn AFTER menuGroup so it renders on top
        ============================================================ -->
        <Rectangle
            id="focusUnderline"
            width="100"
            height="4"
            color="0xE6C200FF"
            translation="[0,0]"
            visible="true" />


        <!-- ===========================================================
             OFF-SCREEN MEASUREMENT LABEL
             Used by NavBar.brs to compute pixel-accurate underline width
        ============================================================ -->
        <Label
            id="measureLabel"
            font="font:MediumSystemFont"
            visible="false" />

    </children>


    <!-- ===========================================================
         FOCUS HANDLING
         Only menuGroup receives directional keys
    ============================================================ -->
    <focus>
        <focusGroup>
            <focusItem id="menuGroup" />
        </focusGroup>
    </focus>

</component>
