<?xml version="1.0" encoding="UTF-8"?>
<component name="MainScene" extends="Scene">

    <!-- Expose public functions to child components -->
    <interface>
        <function name="ShowDetail" />
        <function name="HideDetail" />
    </interface>

    <!-- Logic controllers -->
    <script type="text/brightscript" uri="pkg:/components/MainScene.brs" />
    <script type="text/brightscript" uri="pkg:/components/UILogic/ScreenStackLogic.brs" />

    <children>

        <!-- ======================================================
             TOP NAVIGATION BAR
        ======================================================= -->
        <Group id="navBarLayer" translation="[0,0]">
            <NavBar id="navBar" translation="[0,60]" />
        </Group>

        <!-- ======================================================
             MAIN SCREEN LAYER
        ======================================================= -->
        <Group id="screenLayer" translation="[0,130]" />

        <!-- ======================================================
             DETAIL MODAL OVERLAY (Hidden until called)
        ======================================================= -->
        <Group id="detailLayer" translation="[0,0]" visible="false">
            <DetailScreen id="detailScreen" />
        </Group>

        <!-- ======================================================
             DEBUG LABEL (Optional)
        ======================================================= -->
        <Label
            id="debugLabel"
            text="ESPN Prototype"
            translation="[40,20]"
            font="font:MediumSystemFont"
            color="0xFFFFFFFF" />

        <!-- ======================================================
             INTRO SPLASH VIDEO (Placed LAST so it stays on TOP)
             Includes smooth fade-out animation
        ======================================================= -->
        <Group id="introLayer" translation="[0,0]" visible="true" opacity="1.0">

            <!-- Video component -->
            <IntroVideoScreen id="introScreen" />

            <!-- Fade animation controlling introLayer.opacity -->
            <Animation
                id="introFadeAnim"
                duration="0.8"
                repeat="false">

                <FloatFieldInterpolator
                    id="fadeInterp"
                    fieldToInterp="introLayer.opacity"
                    key="[0.0, 1.0]"
                    keyValue="[1.0, 0.0]" />

            </Animation>

        </Group>

    </children>

</component>
